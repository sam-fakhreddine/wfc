<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Esports Tournament Match Flow</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Russo+One&family=Chakra+Petch:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
  *,*::before,*::after{box-sizing:border-box;margin:0;padding:0}

  :root{
    --primary:#7C3AED;
    --secondary:#A78BFA;
    --cta:#F43F5E;
    --bg:#0F0F23;
    --text:#E2E8F0;
    --border:#4C1D95;
    --card-bg:rgba(255,255,255,0.03);
    --card-border:rgba(124,58,237,0.3);
    --card-glow:rgba(124,58,237,0.1);
    --heading-font:'Russo One',sans-serif;
    --body-font:'Chakra Petch',sans-serif;
  }

  @media(prefers-color-scheme:light){
    :root{
      --bg:#F0F0F8;
      --text:#1E1B4B;
      --card-bg:rgba(124,58,237,0.06);
      --card-border:rgba(124,58,237,0.25);
      --card-glow:rgba(124,58,237,0.08);
      --border:#7C3AED;
    }
  }

  html{font-size:16px;scroll-behavior:smooth}
  body{
    background:var(--bg);
    color:var(--text);
    font-family:var(--body-font);
    line-height:1.6;
    min-height:100vh;
    padding:2rem 1rem;
    overflow-x:hidden;
  }

  .container{max-width:1200px;margin:0 auto}

  h1{
    font-family:var(--heading-font);
    font-size:clamp(1.6rem,4vw,2.4rem);
    text-align:center;
    margin-bottom:.5rem;
    background:linear-gradient(135deg,var(--primary),var(--cta));
    -webkit-background-clip:text;
    -webkit-text-fill-color:transparent;
    background-clip:text;
  }

  .subtitle{
    text-align:center;
    color:var(--secondary);
    font-size:.95rem;
    margin-bottom:2rem;
    font-weight:500;
    letter-spacing:.5px;
  }

  .diagram-wrapper{
    background:var(--card-bg);
    backdrop-filter:blur(12px);
    -webkit-backdrop-filter:blur(12px);
    border:1px solid var(--card-border);
    border-radius:16px;
    padding:2rem;
    box-shadow:0 0 20px var(--card-glow),inset 0 1px 0 rgba(255,255,255,0.05);
    overflow:auto;
    position:relative;
  }

  .diagram-inner{
    min-width:fit-content;
    transform-origin:top left;
    transition:transform .3s ease;
  }

  /* Zoom controls */
  .zoom-controls{
    display:flex;gap:.5rem;
    justify-content:center;
    margin-bottom:1rem;
  }
  .zoom-btn{
    background:var(--card-bg);
    backdrop-filter:blur(12px);
    -webkit-backdrop-filter:blur(12px);
    border:1px solid var(--card-border);
    color:var(--text);
    font-family:var(--body-font);
    font-size:.85rem;
    font-weight:600;
    padding:.45rem .9rem;
    border-radius:8px;
    cursor:pointer;
    transition:all .2s ease;
    box-shadow:0 0 10px var(--card-glow);
  }
  .zoom-btn:hover{
    background:rgba(124,58,237,0.15);
    box-shadow:0 0 20px var(--card-glow);
  }
  .zoom-level{
    display:flex;align-items:center;
    font-size:.8rem;color:var(--secondary);
    min-width:3.5rem;justify-content:center;
  }

  /* Mermaid overrides for dark theme */
  .mermaid{text-align:center}

  /* fadeUp */
  .fade-up{
    opacity:0;transform:translateY(24px);
    animation:fadeUp .6s ease forwards;
  }
  @keyframes fadeUp{to{opacity:1;transform:translateY(0)}}
  .delay-1{animation-delay:.1s}
  .delay-2{animation-delay:.2s}
  .delay-3{animation-delay:.35s}

  @media(prefers-reduced-motion:reduce){
    .fade-up{opacity:1;transform:none;animation:none}
  }

  .footer{
    text-align:center;margin-top:2rem;
    font-size:.75rem;color:var(--secondary);opacity:.6;
  }

  .legend{
    display:flex;flex-wrap:wrap;gap:1rem;
    justify-content:center;
    margin-top:1.2rem;
    font-size:.78rem;color:var(--secondary);
  }
  .legend-item{display:flex;align-items:center;gap:.4rem}
  .legend-dot{width:10px;height:10px;border-radius:3px}
  .legend-dot.process{background:var(--primary)}
  .legend-dot.decision{background:var(--cta)}
  .legend-dot.success{background:#10B981}
  .legend-dot.loop{background:var(--secondary)}
</style>
</head>
<body>
<div class="container">
  <h1 class="fade-up">Esports Tournament Match Flow</h1>
  <p class="subtitle fade-up delay-1">Complete tournament lifecycle from registration to awards</p>

  <div class="zoom-controls fade-up delay-2">
    <button class="zoom-btn" onclick="zoomOut()">&#8722; Zoom</button>
    <span class="zoom-level" id="zoomLevel">100%</span>
    <button class="zoom-btn" onclick="zoomIn()">&#43; Zoom</button>
    <button class="zoom-btn" onclick="zoomReset()">Reset</button>
  </div>

  <div class="diagram-wrapper fade-up delay-3">
    <div class="diagram-inner" id="diagramInner">
      <div class="mermaid">
graph TD
    A["ðŸ† Tournament Registration"]:::process --> B["âœ… Team Check-in"]:::process
    B --> C{"All Teams Ready?"}:::decision
    C -- Yes --> D["ðŸ”€ Bracket Generation"]:::process
    C -- No --> E["â³ Extend Check-in"]:::process
    E --> F{"Deadline Reached?"}:::decision
    F -- Yes --> G["ðŸ“‹ Fill with Waitlist"]:::process
    G --> D
    F -- No --> B
    D --> H["ðŸ“… Match Scheduling"]:::process
    H --> I["ðŸŽ® Lobby Creation"]:::process
    I --> J["ðŸ”Œ Player Connect"]:::process
    J --> K{"All Players Connected?"}:::decision
    K -- Yes --> L["â–¶ï¸ Match Start"]:::success
    K -- No --> M["â±ï¸ Timeout"]:::warn
    M --> N["ðŸ³ï¸ Default Win / Reschedule"]:::process
    N --> H
    L --> O["âš”ï¸ Game In Progress"]:::live
    O --> P["ðŸ Match End"]:::process
    P --> Q["ðŸ“Š Stats Collection"]:::process
    Q --> R["ðŸ›¡ï¸ Anti-Cheat Analysis"]:::process
    R --> S{"Clean?"}:::decision
    S -- Yes --> T["âœ… Results Certified"]:::success
    S -- No --> U["ðŸ” Match Under Review"]:::warn
    U --> V["ðŸ‘¨â€âš–ï¸ Admin Decision"]:::process
    V --> W{"Valid?"}:::decision
    W -- Yes --> T
    W -- No --> X["ðŸ”„ Match Replayed"]:::loop
    X --> I
    T --> Y["ðŸ“ˆ Update Brackets"]:::process
    Y --> Z{"Finals?"}:::decision
    Z -- Yes --> AA["ðŸŽ‰ Award Ceremony"]:::success
    AA --> AB["ðŸ† Tournament Complete"]:::success
    Z -- No --> H

    classDef process fill:#1a1a3e,stroke:#7C3AED,stroke-width:2px,color:#E2E8F0,font-family:Chakra Petch
    classDef decision fill:#1a1a3e,stroke:#F43F5E,stroke-width:2px,color:#F43F5E,font-family:Chakra Petch
    classDef success fill:#0a2a1a,stroke:#10B981,stroke-width:2px,color:#10B981,font-family:Chakra Petch
    classDef warn fill:#2a1a0a,stroke:#F59E0B,stroke-width:2px,color:#F59E0B,font-family:Chakra Petch
    classDef live fill:#1a0a2a,stroke:#A78BFA,stroke-width:2px,color:#A78BFA,font-family:Chakra Petch
    classDef loop fill:#1a1a3e,stroke:#A78BFA,stroke-width:2px,color:#A78BFA,font-family:Chakra Petch

    linkStyle default stroke:#7C3AED,stroke-width:2px
      </div>
    </div>
  </div>

  <div class="legend fade-up delay-3">
    <div class="legend-item"><span class="legend-dot process"></span> Process</div>
    <div class="legend-item"><span class="legend-dot decision"></span> Decision</div>
    <div class="legend-item"><span class="legend-dot success"></span> Success</div>
    <div class="legend-item"><span class="legend-dot loop"></span> Loop / Retry</div>
  </div>

  <div class="footer fade-up delay-3">Esports Tournament Match Flow &mdash; Neon Dashboard</div>
</div>

<script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
<script>
  const isDark = window.matchMedia('(prefers-color-scheme: dark)').matches || !window.matchMedia('(prefers-color-scheme: light)').matches;

  mermaid.initialize({
    startOnLoad: true,
    theme: 'base',
    themeVariables: {
      darkMode: isDark,
      background: isDark ? '#0F0F23' : '#F0F0F8',
      primaryColor: '#1a1a3e',
      primaryTextColor: '#E2E8F0',
      primaryBorderColor: '#7C3AED',
      lineColor: '#7C3AED',
      secondaryColor: '#1a1a3e',
      tertiaryColor: '#1a1a3e',
      fontSize: '14px',
      fontFamily: 'Chakra Petch, sans-serif',
      edgeLabelBackground: 'transparent',
      clusterBkg: 'transparent',
      clusterBorder: '#4C1D95',
      nodeTextColor: '#E2E8F0'
    },
    flowchart: {
      htmlLabels: true,
      curve: 'basis',
      padding: 15,
      nodeSpacing: 40,
      rankSpacing: 50
    }
  });

  let currentZoom = 1;
  const inner = document.getElementById('diagramInner');
  function setZoom(z) {
    currentZoom = Math.max(0.3, Math.min(2, z));
    inner.style.transform = 'scale(' + currentZoom + ')';
    document.getElementById('zoomLevel').textContent = Math.round(currentZoom * 100) + '%';
  }
  function zoomIn() { setZoom(currentZoom + 0.1); }
  function zoomOut() { setZoom(currentZoom - 0.1); }
  function zoomReset() { setZoom(1); }
</script>
</body>
</html>
